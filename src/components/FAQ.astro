---
export interface FAQItem {
	question: string;
	answer: string;
}

export interface Props {
	faqs: FAQItem[];
}

const { faqs } = Astro.props;

const faqSchema = {
	"@context": "https://schema.org",
	"@type": "FAQPage",
	"mainEntity": faqs.map(faq => ({
		"@type": "Question",
		"name": faq.question,
		"acceptedAnswer": {
			"@type": "Answer",
			"text": faq.answer
		}
	}))
};
---

<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

<section class="py-12">
	<div class="container mx-auto px-4">
		<h2 class="text-3xl font-bold text-center mb-8">Frequently Asked Questions</h2>
		<div class="max-w-3xl mx-auto space-y-6">
			{faqs.map((faq, index) => (
				<details class="group bg-white rounded-lg shadow-md">
					<summary class="flex items-center justify-between p-6 cursor-pointer list-none">
						<h3 class="text-lg font-semibold">{faq.question}</h3>
						<span class="ml-6 flex-shrink-0">
							<svg class="w-5 h-5 text-gray-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
							</svg>
						</span>
					</summary>
					<div class="px-6 pb-6">
						<p class="text-gray-600">{faq.answer}</p>
					</div>
				</details>
			))}
		</div>
	</div>
</section>